#运算符

----------
----------

##使用说明
几乎所有的运算符都只能操作基本类型（Primitives）
**特殊**：
==、!=、= 可以操作引用类型（容易混淆的地方）
+、+= 可以操作String类型

----------

##优先级
运算符的优先级不要记，使用括号明确规定运算顺序

----------

##赋值（脑中要有存储图）
通过`=`完成
`=`的左边必须是物理空间来存放右边的值（栈内存）

基本类型的赋值是直接的，值拷贝，修改现有的值不改变原有的值（都在栈内存中）  
引用类型的赋值，引用拷贝，多个引用同时指向一个对象（`别名`），修改现有的值会改变原有的值(引用在栈内存，对象在堆内存)

对象的赋值需要注意的环节

把对象传递给方法时，会发生`别名`现象（方法内改变对象的值，不符合函数式编程）

[对象传递和返回]()

----------
##算术操作符
+-*/%  
整数除法会舍掉小数位  

random的种子和取随机数的上限

----------
##递增和递减 
++、--  前后

----------
##关系运算符
==、>=、<=、>、<、!=

对象引用比较，使用覆写的equals方法（通过比较对象的值实现），不要使用==或!=

Integer 内部维护着一个 IntegerCache 的缓存，默认缓存范围是[-128, 127]，
所以[-128, 127]之间的值用==和!=比较也能能到正确的结果，但是不推荐用关系运算符比较

----------
##逻辑运算符
&&、||、！

逻辑运算符支持一种支持短路的现象（可以节省部分不必要的计算，提高性能）
整个表达式可以得到明确的结果就停止，表达式未执行的部分不在执行  

位运算符没有短路现象

----------
##位运算符
&、|、^、&=、|=、^=

对于布尔值(视为单位值,one-bit value)，逻辑运算符合位运算符结果相同，位运算符没有短路现象

----------
##移位运算符
<<、>>（符号扩展）、>>>（零扩展）、<<=、>>=、>>>=


b = -1;
System.out.println(Integer.toBinaryString(b));  
System.out.println(Integer.toBinaryString(b>>>10)); //没有截断
b >>>= 10; //赋值时截断
System.out.println(Integer.toBinaryString(b));//赋值时截断
11111111111111111111111111111111
1111111111111111111111
11111111111111111111111111111111


char、byte或short类型运算时提升为int（符号扩展），赋值时截断

----------
#字面值常量
int i1 = 0x2f; // 16进制
int i3 = 0177; // 8进制 (前导0)
short bls = (short)0b0010111110101111; //二进制
int bli = 0b00101111101011111010111110101111;

float f2 = 1F; // float 型后缀
float f3 = 1f; // float 型后缀
double d1 = 1d; // double 型后缀（可以不要后缀，默认值是double）
double d2 = 1D; // double 型后缀
 
double d = 341_435_936.445_667; //java7支持，更清晰
long hex = 0x7f_e9_b7_aa; 
  
float expFloat = 1.39e-43f;//指数计数法，e代表10
double expDouble = 47e47d; // 'd' 是可选的
double expDouble2 = 47e47; // 自动转换为 double  

将较小的类型传递给Integer.tobinarystring()时，类型将自动转换为int

----------
#三元运算符
布尔表达式?值1:值2

简洁和易读合理选择

##类型转换
“类型转换”（Casting）的作用是“与一个模型匹配”,在适当的时候，Java会将一种数据类型自动转换成另一种
例如，假设我们为float变量赋值一个整数值，计算机会将int自动转换成float。
也可以在程序未自动转换时显式、强制地使此类型发生转换

除了布尔类型的数据，Java允许任何基本类型的数据转换为另一种基本类型的数据（只是窄化会丢失信息）
此外，类进行类型转换：父子类之间进行向上/向下转型

###截断和舍入
从float和double转换为整数值时，小数位将被截断
若想对结果进行四舍五入，可以使用java.lang.Math的round()方法

###类型提升
如果我们对小于int的基本数据类型（即char、byte或short）执行任何算术或按位操作,这些值会在执行操作之前类型提升为int，并且结果值的类型为int  
若想重新使用较小的类型，必须使用强制转换（由于重新分配回一个较小的类型，结果可能会丢失精度）
通常，表达式中最大的数据类型是决定表达式结果的数据类型,float型和double型相乘，结果是double型的；int和long相加，结果是long型


----------
##Java没有sizeof